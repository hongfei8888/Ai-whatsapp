# ğŸš€ WhatsApp è‡ªåŠ¨åŒ–ç³»ç»Ÿå¯åŠ¨æŒ‡å—

## å‰ç½®è¦æ±‚

- Node.js >= 20.0.0
- npm æˆ– pnpm

## å¿«é€Ÿå¯åŠ¨

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

**Windows PowerShell:**
```powershell
.\start-servers.ps1
```

**Windows æ‰¹å¤„ç†:**
```cmd
start-dev.bat
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å¯åŠ¨

#### 1ï¸âƒ£ å¯åŠ¨åç«¯æœåŠ¡å™¨ï¼ˆç«¯å£ 4000ï¼‰

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
cd server
npm install
npm run dev
```

æˆ–è€…ä»æ ¹ç›®å½•ï¼š
```bash
npm run dev:server
```

âœ… åç«¯æˆåŠŸå¯åŠ¨åï¼Œä½ ä¼šçœ‹åˆ°ï¼š
```
{"level":30,"time":...,"msg":"Fastify server started","port":4000,"host":"0.0.0.0"}
```

#### 2ï¸âƒ£ å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆç«¯å£ 3000ï¼‰

æ‰“å¼€**æ–°çš„ç»ˆç«¯çª—å£**ï¼š

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
cd web
npm install
npm run dev
```

æˆ–è€…ä»æ ¹ç›®å½•ï¼š
```bash
npm run dev:web
```

âœ… å‰ç«¯æˆåŠŸå¯åŠ¨åï¼Œè®¿é—®ï¼š
```
http://localhost:3000
```

## é…ç½®æ–‡ä»¶è¯´æ˜

### åç«¯é…ç½® (`server/.env`)
```env
PORT=4000                    # åç«¯æœåŠ¡å™¨ç«¯å£
HOST=0.0.0.0                # ç›‘å¬åœ°å€
DATABASE_URL="file:../prisma/dev.db"  # æ•°æ®åº“è·¯å¾„
NODE_ENV=development        # ç¯å¢ƒ
```

### å‰ç«¯é…ç½® (`web/.env.local`)
```env
NEXT_PUBLIC_API_BASE_URL=http://localhost:4000  # åç«¯ API åœ°å€
```

## å¸¸è§é—®é¢˜

### âŒ "Failed to fetch" é”™è¯¯

**åŸå› ï¼š** åç«¯æœåŠ¡å™¨æœªå¯åŠ¨æˆ–ç«¯å£é…ç½®é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥åç«¯æ˜¯å¦åœ¨è¿è¡Œï¼ˆç«¯å£ 4000ï¼‰
2. æ£€æŸ¥ `web/.env.local` ä¸­çš„ API URL é…ç½®
3. ç¡®ä¿æ²¡æœ‰ç«¯å£å†²çª

### âŒ ç«¯å£è¢«å ç”¨

**æŸ¥çœ‹ç«¯å£å ç”¨ï¼š**
```bash
# Windows
netstat -ano | findstr :4000
netstat -ano | findstr :3000

# ç»“æŸè¿›ç¨‹ï¼ˆä½¿ç”¨ä¸Šé¢å‘½ä»¤æ‰¾åˆ°çš„ PIDï¼‰
taskkill /PID <PID> /F
```

### âŒ æ•°æ®åº“é”™è¯¯

**é‡ç½®æ•°æ®åº“ï¼š**
```bash
cd server
npm run prisma:push
```

## å¼€å‘å·¥å…·

### æŸ¥çœ‹æ—¥å¿—
- åç«¯æ—¥å¿—ï¼šç»ˆç«¯çª—å£ 1
- å‰ç«¯æ—¥å¿—ï¼šç»ˆç«¯çª—å£ 2 + æµè§ˆå™¨æ§åˆ¶å°

### çƒ­é‡è½½
- åç«¯ï¼šä¿å­˜æ–‡ä»¶è‡ªåŠ¨é‡å¯
- å‰ç«¯ï¼šä¿å­˜æ–‡ä»¶è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨

## ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### 1. æ„å»ºé¡¹ç›®
```bash
# æ„å»ºåç«¯
cd server
npm run build

# æ„å»ºå‰ç«¯
cd ../web
npm run build
```

### 2. å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
```bash
# åç«¯
cd server
npm start

# å‰ç«¯
cd web
npm start
```

## é¡¹ç›®ç»“æ„

```
whatsapp-web.js-main/
â”œâ”€â”€ server/                # åç«¯æœåŠ¡å™¨ (Fastify + TypeScript)
â”‚   â”œâ”€â”€ app/src/          # æºä»£ç 
â”‚   â”œâ”€â”€ .env              # åç«¯ç¯å¢ƒå˜é‡
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ web/                   # å‰ç«¯åº”ç”¨ (Next.js 15)
â”‚   â”œâ”€â”€ app/              # åº”ç”¨é¡µé¢
â”‚   â”œâ”€â”€ components/       # ç»„ä»¶
â”‚   â”œâ”€â”€ lib/              # å·¥å…·åº“
â”‚   â”œâ”€â”€ .env.local        # å‰ç«¯ç¯å¢ƒå˜é‡
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ prisma/               # æ•°æ®åº“
    â””â”€â”€ dev.db
```

## åŠŸèƒ½å¯¼èˆª

è®¿é—® `http://localhost:3000` åï¼š

- ğŸ“Š **ä»ªè¡¨ç›˜** (`/dashboard`) - ç³»ç»Ÿæ¦‚è§ˆ
- ğŸ’¬ **èŠå¤©** (`/chat`) - WhatsApp èŠå¤©ç•Œé¢
- ğŸ‘¥ **è”ç³»äºº** (`/contacts`) - è”ç³»äººç®¡ç†
- ğŸ“± **ä¼šè¯** (`/threads`) - ä¼šè¯ç®¡ç†
- ğŸ“ **æ¨¡æ¿** (`/templates`) - æ¶ˆæ¯æ¨¡æ¿
- ğŸ“¤ **æ‰¹é‡æ“ä½œ** (`/batch`) - æ‰¹é‡å‘é€
- ğŸ“š **çŸ¥è¯†åº“** (`/knowledge`) - çŸ¥è¯†åº“ç®¡ç†
- âš™ï¸ **è®¾ç½®** (`/settings`) - ç³»ç»Ÿè®¾ç½®

## æŠ€æœ¯æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿæ£€æŸ¥ï¼š
1. âœ… Node.js ç‰ˆæœ¬ >= 20
2. âœ… åç«¯æœåŠ¡å™¨è¿è¡Œåœ¨ 4000 ç«¯å£
3. âœ… å‰ç«¯æœåŠ¡å™¨è¿è¡Œåœ¨ 3000 ç«¯å£
4. âœ… `.env` æ–‡ä»¶é…ç½®æ­£ç¡®
5. âœ… ä¾èµ–å·²å…¨éƒ¨å®‰è£…

---

ğŸ‰ äº«å—ä½¿ç”¨ WhatsApp è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼

