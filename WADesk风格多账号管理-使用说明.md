# WADesk风格多账号管理 - 使用说明

## ✨ 新功能概述

已将多账号管理UI改造为**WADesk风格**，提供更直观、更便捷的账号切换体验！

---

## 🎨 界面布局

```
┌─────────────┬────┬──────────────┬─────────────────┐
│             │    │              │                 │
│   账号面板   │ 功能│  聊天列表    │   主内容区       │
│             │导航│              │                 │
│  (280px)   │(80)│  (400px)     │   (自适应)       │
│             │    │              │                 │
└─────────────┴────┴──────────────┴─────────────────┘
```

### 四栏式布局：

1. **左侧：账号面板** (280px)
   - 账号搜索框
   - 账号列表卡片
   - 添加账号按钮
   - 管理入口

2. **中左：功能导航** (80px)
   - 仪表盘
   - 对话
   - 通讯录
   - 等功能图标

3. **中右：列表区** (400px)
   - 聊天列表
   - 联系人列表
   - 等内容列表

4. **右侧：主内容区** (自适应)
   - 聊天内容
   - 详情页面
   - 等主要内容

---

## 📋 账号面板功能

### 1. 搜索账号
- 顶部搜索框
- 支持搜索：
  - 手机号
  - 备注名
  - 账号名称

### 2. 账号卡片
每个账号显示：
- **圆形头像** + 手机号后4位
- **当前账号标识** 
  - 绿色背景
  - 绿色边框
  - 右上角✓标记
  - "当前"徽章
- **状态指示器**
  - 🟢 绿色 = 在线
  - 🟡 黄色 = 连接中
  - ⚫ 灰色 = 离线
- **账号信息**
  - 备注名称
  - 手机号
  - 状态徽章

### 3. 快速操作
每个账号卡片右侧：
- **启动/停止按钮**
  - 🟢 Power图标 = 启动账号
  - 🟠 PowerOff图标 = 停止账号
- **更多操作菜单** (⋮)
  - 编辑备注名
  - 切换到此账号
  - 删除账号

### 4. 底部操作
- **添加账号按钮** - 快速添加新账号
- **团队管理后台** - 跳转到完整的账号管理页面

---

## 🚀 使用方式

### 方式 1：点击切换（推荐）
1. 在左侧账号面板中找到目标账号
2. 直接**点击账号卡片**
3. 系统自动切换，右侧内容实时更新

### 方式 2：搜索后切换
1. 在顶部搜索框输入手机号或备注名
2. 找到目标账号
3. 点击账号卡片切换

### 方式 3：快捷键切换
- `Ctrl+1` ~ `Ctrl+9` - 切换到第1-9个账号
- `Ctrl+Shift+R` - 刷新账号状态

### 方式 4：完整管理页面
1. 点击底部"📊 团队管理后台"
2. 进入 `/accounts` 页面
3. 查看网格或表格视图
4. 进行高级管理操作

---

## 💡 使用技巧

### 快速识别当前账号
- 看绿色背景的卡片
- 看右上角的✓标记
- 看"当前"徽章

### 批量管理账号
1. 点击"团队管理后台"
2. 切换到表格视图
3. 可以看到所有账号的详细信息
4. 支持批量操作

### 监控账号状态
- 状态指示器实时显示
- 离线账号一目了然
- 点击启动/停止按钮快速控制

### 账号分组和搜索
- 使用搜索框快速定位
- 使用"所有状态"筛选器
- 使用"所有分组"筛选器

---

## 🎯 适用场景

### 场景 1：日常切换（3-5个账号）
- 在左侧面板快速点击切换
- 无需进入管理页面
- 切换速度快，体验流畅

### 场景 2：批量管理（5+个账号）
- 使用搜索功能快速定位
- 点击"团队管理后台"进入详细页面
- 使用表格视图查看所有信息

### 场景 3：账号监控
- 在左侧面板查看所有状态
- 离线账号立即可见
- 一键启动/停止

### 场景 4：新增账号
- 点击"添加账号"按钮
- 输入账号名称
- 扫码登录

---

## 🔄 切换行为

### 无刷新切换
- ✅ 页面不会刷新
- ✅ 数据自动更新
- ✅ 保留当前位置
- ✅ 流畅体验

### 自动刷新
切换账号后，系统会自动：
- 刷新聊天列表
- 刷新联系人列表
- 刷新统计数据
- 重新订阅WebSocket

---

## ⚙️ 高级功能

### 账号管理页面（/accounts）
- **网格视图** - 卡片式展示
- **表格视图** - 列表式展示
- **视图切换** - 顶部图标切换
- **账号操作** - 启动/停止/删除
- **详细信息** - 消息数/联系人数/状态

### 聚合统计
- 总账号数
- 在线账号数
- 总消息数
- 总联系人数
- 账号排行榜

### 实时通知
- 账号状态变化
- 连接异常提醒
- 需要扫码提示
- 新消息通知

---

## 📱 界面预览

### 账号面板
```
┌─────────────────────────┐
│ 🔍 搜索手机号或备注名     │
│ [所有状态] [所有分组]     │
├─────────────────────────┤
│ ┌─ 账号1 ───────────┐   │
│ │ ✓ [头像] 主账号    │   │
│ │   +86***9731      │   │
│ │   🟢 在线   [⚡][⋮]│   │
│ └───────────────────┘   │
│                         │
│ ┌─ 账号2 ───────────┐   │
│ │   [头像] 测试号    │   │
│ │   +86***1234      │   │
│ │   ⚫ 离线   [▶][⋮]│   │
│ └───────────────────┘   │
├─────────────────────────┤
│ [+ 添加账号]            │
│ 📊 团队管理后台 →       │
└─────────────────────────┘
```

---

## 🆚 对比原有方案

### 原有方案（小型侧边栏）
- ❌ 账号列表不明显
- ❌ 信息显示不全
- ❌ 操作不便
- ❌ 适合1-2个账号

### 新方案（WADesk风格）
- ✅ 账号列表清晰可见
- ✅ 信息完整展示
- ✅ 操作便捷直观
- ✅ 适合3-10个账号
- ✅ 支持搜索和筛选
- ✅ 卡片式设计美观

---

## 🎨 设计亮点

1. **视觉层次清晰**
   - 当前账号高亮显示
   - 状态一目了然
   - 操作按钮醒目

2. **交互便捷**
   - 一键切换
   - 快速启动/停止
   - 搜索快速定位

3. **信息完整**
   - 显示手机号
   - 显示状态
   - 显示备注名

4. **响应迅速**
   - 无刷新切换
   - 实时状态更新
   - 流畅体验

---

## 🔧 技术特点

- **React 组件化** - 易于维护和扩展
- **Tailwind CSS** - 现代化样式
- **无刷新切换** - 更好的用户体验
- **实时状态** - WebSocket推送
- **本地存储** - 记住当前账号
- **智能刷新** - 切换时自动更新数据

---

## 📞 使用支持

### 快捷键帮助
按 `Ctrl+Shift+?` 查看完整快捷键列表

### 问题排查
1. 账号列表看不到？
   - 确保至少添加了一个账号
   - 尝试刷新页面

2. 切换不成功？
   - 检查账号是否在线
   - 查看浏览器控制台错误

3. 状态不更新？
   - 检查 WebSocket 连接
   - 点击刷新按钮

---

**更新时间**: 2025年10月10日  
**版本**: v2.0 - WADesk风格

